services:
    web:
        build: .
        ports:
            - "8080:8080"
        environment:
            - SECRET_KEY=${SECRET_KEY}
            - PORT=8080
        healthcheck:
            test: ["CMD", "curl", "-f", "http://localhost:8080/health"]
            interval: 5s
            timeout: 3s
            retries: 3
        restart: always

    redis:
        image: redis:alpine
        restart: always
